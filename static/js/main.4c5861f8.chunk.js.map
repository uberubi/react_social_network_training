{"version":3,"sources":["api/api.js","redux/dialogs-reducer.js","assets/images/user_img.jpg","assets/images/preloader.svg","components/common/Paginator/Paginator.module.css","components/Users/users.module.css","components/Navbar/Navbar.module.css","serviceWorker.js","components/Navbar/Navbar.jsx","redux/auth-reducer.js","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","utils/validators/objects-helpers.js","redux/users-reducer.js","redux/redux-store.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","hoc/withSuspense.js","App.js","index.js","components/common/FormsControls/FormControls.jsx","components/common/Preloader/Preloader.jsx","components/common/FormsControls/FormsControls.module.css","utils/validators/validators.js","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","logout","initialState","dialogs","id","name","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","module","exports","Boolean","window","location","hostname","match","Navbar","className","s","nav","item","to","activeClassName","active","SET_USER_DATA","isAuth","setAuthUserData","payload","getAuthUserData","dispatch","a","resultCode","authReducer","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","required","Input","style","formSummaryError","connect","auth","length","stopSubmit","_error","props","log","initialized","appReducer","sidebarReducer","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setUsers","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","count","filter","userID","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","usersPage","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","Header","header","alt","src","loginBlock","onClick","HeaderContainer","this","React","Component","Paginator","onPageChanged","pagesCount","Math","ceil","pages","i","push","page","styles","selectedPage","e","User","user","photos","small","userPhoto","disabled","some","Users","key","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","requestUsers","Preloader","bind","totalCount","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","promise","Promise","all","MainApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","FormControl","input","meta","touched","children","hasError","formControl","restProps","child","placeholder","validators","component","text","validate","Textarea","preloader","value","maxLengthCreator","maxLength","posts","likesCount","addPostActionCreator","newPostText","getUserProfile","setStatus","file","getState","reject","newPost","p","postId"],"mappings":"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","file":"static/js/main.4c5861f8.chunk.js","sourcesContent":["import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  headers: {\r\n    \"API-KEY\": \"31fca19b-46d4-4562-87ef-a79218334047\",\r\n  },\r\n});\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then((response) => response.data);\r\n  },\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`).then((response) => response.data);\r\n  },\r\n  unfollow(userId) {\r\n    return instance.delete(`follow/${userId}`).then((response) => response.data);\r\n  },\r\n  getProfile(userId) {\r\n    // backward compatibility\r\n    console.warn(\"Obsolete method. Please use profileAPI object.\");\r\n    return profileAPI.getProfile(userId);\r\n  },\r\n};\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance.get(`profile/${userId}`);\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/${userId}`);\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status/`, { status: status });\r\n  },\r\n  savePhoto(photoFile) {\r\n    const formData = new FormData()\r\n    formData.append('image', photoFile)\r\n    return instance.put(`profile/photo/`, formData, {\r\n      headers : {\r\n        'Content-Type' : 'multipart/form-data'\r\n      }\r\n    })\r\n  },\r\n  saveProfile(profile) {\r\n    return instance.put(`profile`, profile)\r\n  }\r\n};\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get(`auth/me`);\r\n  },\r\n  login(email, password, rememberMe = true) {\r\n    return instance.post(`auth/login`, { email, password, rememberMe });\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`);\r\n  },\r\n};\r\n","const SEND_MESSAGE = \"SEND_MESSAGE\";\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    { id: 1, name: \"Dimych\" },\r\n    { id: 2, name: \"Andrey\" },\r\n    { id: 3, name: \"Terent\" },\r\n    { id: 4, name: \"Vovan\" },\r\n    { id: 5, name: \"Nastyha\" },\r\n    { id: 6, name: \"Petos\" },\r\n  ],\r\n  messages: [\r\n    { id: 1, message: \"Hi\" },\r\n    { id: 2, message: \"Awright\" },\r\n    { id: 3, message: \"Hiya\" },\r\n    { id: 4, message: \"What's up!\" },\r\n    { id: 5, message: \"Aye\" },\r\n    { id: 6, message: \"HEY\" },\r\n  ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      let body = action.newMessageBody;\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, { id: 6, message: body }],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody });\r\n\r\nexport default dialogsReducer;\r\n","module.exports = __webpack_public_path__ + \"static/media/user_img.e95544ba.jpg\";","module.exports = __webpack_public_path__ + \"static/media/preloader.9c3e176b.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__uSCI5\",\"paginator\":\"Paginator_paginator__2Zp8A\",\"pageNumber\":\"Paginator_pageNumber__2VQ7S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__1rn0Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__9jN6z\",\"item\":\"Navbar_item__RnrDa\",\"active\":\"Navbar_active__hq7vC\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\r\nimport s from \"./Navbar.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={s.nav}>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink>\r\n      </div>\r\n      <div className={`${s.item} ${s.active}`}>\r\n        <NavLink to=\"/dialogs\" activeClassName={s.active}>Messages</NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/users\" activeClassName={s.active}>Users</NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/news\" activeClassName={s.active}>News</NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/music\" activeClassName={s.active}>Music</NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/settings\" activeClassName={s.active}>Settings</NavLink>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import { authAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst SET_USER_DATA = \"network/auth/SET_USER_DATA\";\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst setAuthUserData = (userId, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  payload: { userId, email, login, isAuth },\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n  let response = await authAPI.me();\r\n  if (response.data.resultCode === 0) {\r\n    let { id, login, email } = response.data.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n};\r\n\r\n// export const getAuthUserData = () => (dispatch) => {\r\n//   return authAPI.me().then((response) => {\r\n//     if (response.data.resultCode === 0) {\r\n//       let { id, login, email } = response.data.data;\r\n//       dispatch(setAuthUserData(id, email, login, true));\r\n//     }\r\n//   });\r\n// };\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n  let response = await authAPI.login(email, password, rememberMe);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getAuthUserData());\r\n  } else {\r\n    let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n    dispatch(stopSubmit(\"login\", { _error: message }));\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  let response = await authAPI.logout();\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import React from \"react\";\r\nimport { reduxForm, Field } from \"redux-form\";\r\nimport { Input, createField } from \"../common/FormsControls/FormControls\";\r\nimport { required } from \"../../utils/validators/validators\";\r\nimport { connect } from \"react-redux\";\r\nimport { login } from \"../../redux/auth-reducer\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport style from \"./../common/FormsControls/FormsControls.module.css\";\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n        {createField(\"Email\", \"email\", [required], Input)}\r\n        {createField(\"Password\", \"password\", [required], Input,{type: 'password'} )}\r\n        {createField(null, \"rememberMe\", [], Input,{type: 'checkbox'},'remember me')}\r\n\r\n      {error && <div className={style.formSummaryError}>{error}</div>}\r\n      <div>\r\n        <button>Login</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  form: \"login\",\r\n})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n  const onSubmit = (formData) => {\r\n    props.login(formData.email, formData.password, formData.rememberMe);\r\n    console.log(formData);\r\n  };\r\n\r\n  if (props.isAuth) {\r\n    return <Redirect to={\"/profile\"} />;\r\n  }\r\n  return (\r\n    <div>\r\n      <h1>Login</h1>\r\n      <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n});\r\nexport default connect(mapStateToProps, { login })(Login);\r\n","import { getAuthUserData } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\r\n\r\nlet initialState = {\r\n  initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS });\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  let promise = dispatch(getAuthUserData());\r\n  Promise.all([promise]).then(() => {\r\n    dispatch(initializedSuccess());\r\n  });\r\n};\r\n\r\nexport default appReducer;\r\n","let initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n  return state;\r\n};\r\n\r\nexport default sidebarReducer;\r\n","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n return items.map((u) => {\r\n    if (u[objPropName] === itemId) {\r\n      return { ...u, ...newObjProps };\r\n    }\r\n    return u;\r\n  })\r\n}\r\n\r\n","import { usersAPI } from \"../api/api\";\r\nimport { updateObjectInArray } from \"../utils/validators/objects-helpers\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 5,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  followingInProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, 'id', { followed: true })\r\n      };\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, 'id', { followed: false })\r\n      };\r\n    case SET_USERS:\r\n      return { ...state, users: action.users };\r\n    case SET_CURRENT_PAGE:\r\n      return { ...state, currentPage: action.currentPage };\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return { ...state, totalUsersCount: action.count };\r\n    case TOGGLE_IS_FETCHING:\r\n      return { ...state, isFetching: action.isFetching };\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : [state.followingInProgress.filter((id) => id !== action.userID)],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage });\r\nexport const setTotalUsersCount = (totalUsersCount) => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  count: totalUsersCount,\r\n});\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n});\r\n\r\nexport const requestUsers = (page, pageSize) => async (dispatch) => {\r\n  dispatch(toggleIsFetching(true));\r\n  dispatch(setCurrentPage(page));\r\n\r\n  let data = await usersAPI.getUsers(page, pageSize);\r\n  dispatch(toggleIsFetching(false));\r\n  dispatch(setUsers(data.items));\r\n  dispatch(setTotalUsersCount(data.totalCount));\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n  let data = await apiMethod(userId);\r\n  if (data.resultCode === 0) {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n  followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n};\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n  followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n};\r\n\r\nexport default usersReducer;\r\n","import { combineReducers, createStore, applyMiddleware, compose } from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React from \"react\";\r\nimport style from \"./Header.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Header = props => {\r\n  return (\r\n    <header className={style.header}>\r\n      <img\r\n        alt=\"header\"\r\n        src=\"data:image/pngbase64,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\"\r\n      ></img>\r\n      <div className={style.loginBlock}>\r\n        {props.isAuth ? <div>{props.login} - <button onClick={props.logout}>log out</button></div>\r\n        : <NavLink to={\"/login\"}>LOG IN</NavLink> }\r\n        \r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;","import React from 'react'\r\nimport Header from './Header'\r\nimport { connect } from 'react-redux'\r\nimport { getAuthUserData } from '../../redux/auth-reducer'\r\nimport { logout } from '../../redux/auth-reducer'\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n  render() {\r\n    return <Header {...this.props} />\r\n  }\r\n}\r\n\r\nlet mapStateToProps = state => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer)","import React from 'react'\r\nimport styles from \"./Paginator.module.css\";\r\n\r\nlet Paginator = ({totalUsersCount, pageSize, currentPage, onPageChanged}) => {\r\n  let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n    {pages.map(page => {\r\n      return (\r\n        <span\r\n          className={currentPage === page && styles.selectedPage}\r\n          onClick={(e) => {\r\n            onPageChanged(page);\r\n          }}\r\n        >\r\n          {page + \" \"}\r\n        </span>\r\n      );\r\n    })}\r\n  </div> \r\n  )\r\n}\r\n\r\nexport default Paginator\r\n\r\n// import React, {useState} from 'react';\r\n// import styles from \"./Paginator.module.css\";\r\n// import cn from 'classnames'\r\n\r\n// let Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\r\n//     let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n//     let pages = [];\r\n//     for (let i = 1; i <= pagesCount; i++) {\r\n//         pages.push(i);\r\n//     }\r\n\r\n//     let portionCount = Math.ceil(pagesCount / portionSize);\r\n//     let [portionNumber, setPortionNumber] = useState(1);\r\n//     let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n//     let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n//     return <div className={styles.paginator}>\r\n//         { portionNumber > 1 &&\r\n//         <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\r\n\r\n//             {pages\r\n//                 .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n//                 .map((p) => {\r\n//                 return <span className={ cn({\r\n//                     [styles.selectedPage]: currentPage === p\r\n//                 }, styles.pageNumber) }\r\n//                              key={p}\r\n//                              onClick={(e) => {\r\n//                                  onPageChanged(p);\r\n//                              }}>{p}</span>\r\n//             })}\r\n//         { portionCount > portionNumber &&\r\n//             <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\r\n\r\n\r\n//     </div>\r\n// }\r\n\r\n// export default Paginator;","import React from \"react\";\r\nimport styles from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/images/user_img.jpg\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst User = ({user, followingInProgress, unfollow, follow}) => {\r\n  return (\r\n    <div>\r\n          <span>\r\n            <div>\r\n              <NavLink to={\"/profile/\" + user.id}>\r\n                <img\r\n                  src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                  className={styles.userPhoto}\r\n                  alt=\"avatar\"\r\n                />\r\n              </NavLink>\r\n            </div>\r\n            <div>\r\n              {user.followed ? (\r\n                <button\r\n                  disabled={followingInProgress.some((id) => id === user.id)}\r\n                  onClick={() => unfollow(user.id)}\r\n                >\r\n                  Unfollow\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  disabled={followingInProgress.some((id) => id === user.id)}\r\n                  onClick={() => follow(user.id)}\r\n                >\r\n                  Follow\r\n                </button>\r\n              )}\r\n            </div>\r\n          </span>\r\n          <span>\r\n            <span>\r\n              <div>\r\n                {user.name}\r\n                {user.status}\r\n              </div>\r\n            </span>\r\n            <span>\r\n              <div>{\"user.location.country\"}</div>\r\n              <div>{\"user.location.city\"}</div>\r\n            </span>\r\n          </span>\r\n        </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nconst Users = ({ currentPage, onPageChanged, totalUsersCount, pageSize, users, ...props }) => {\r\n  return (\r\n    <div>\r\n      <Paginator\r\n        currentPage={currentPage}\r\n        onPageChanged={onPageChanged}\r\n        totalUsersCount={totalUsersCount}\r\n        pageSize={pageSize}\r\n      />\r\n      <div>\r\n        {users.map((u) => (\r\n          <User\r\n            user={u}\r\n            followingInProgress={props.followingInProgress}\r\n            key={u.id}\r\n            unfollow={props.unfollow}\r\n            follow={props.follow}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import { createSelector } from \"reselect\";\r\n\r\nexport const getUsersSelector = (state) => {\r\n  return state.usersPage.users;\r\n};\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n  return users.filter((u) => true);\r\n});\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress;\r\n};","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  unfollow,\r\n  follow,\r\n  setUsers,\r\n  setCurrentPage,\r\n  toggleFollowingProgress,\r\n  requestUsers,\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport { compose } from \"redux\";\r\nimport {\r\n  getPageSize,\r\n  getUsers,\r\n  getTotalUsersCount,\r\n  getCurrentPage,\r\n  getIsFetching,\r\n  getFollowingInProgress,\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    const {currentPage, pageSize} = this.props\r\n    this.props.requestUsers(currentPage, pageSize);\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    const {pageSize} = this.props \r\n    this.props.requestUsers(pageNumber, pageSize);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Preloader /> : null}\r\n        <Users\r\n          totalUsersCount={this.props.totalUsersCount}\r\n          pageSize={this.props.pageSize}\r\n          currentPage={this.props.currentPage}\r\n          onPageChanged={this.onPageChanged}\r\n          users={this.props.users}\r\n          follow={this.props.follow}\r\n          unfollow={this.props.unfollow}\r\n          followingInProgress={this.props.followingInProgress}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    setUsers,\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n    requestUsers,\r\n  })\r\n)(UsersContainer);\r\n","import React, { Suspense } from \"react\";\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n  return (props) => {\r\n    return (\r\n      <Suspense fallback={<Preloader />}>\r\n        <Component {...props} />\r\n      </Suspense>\r\n    );\r\n  };\r\n};\r\n","import React from \"react\";\nimport \"./App.css\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport { Route, withRouter, BrowserRouter, HashRouter } from \"react-router-dom\";\nimport LoginPage from \"./components/Login/Login\";\nimport { connect, Provider } from \"react-redux\";\nimport { initializeApp } from \"./redux/app-reducer\";\nimport { compose } from \"redux\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport store from \"./redux/redux-store\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport { withSuspense } from \"./hoc/withSuspense\";\n// import ProfileContainer from \"./components/Profile/ProfileContainer\";\n// import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"));\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"));\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />;\n    }\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <Navbar />\n        <div className=\"app-wrapper-content\">\n          <Route\n            path=\"/dialogs\"\n            render={withSuspense(DialogsContainer)}\n          />\n          <Route\n            path=\"/profile/:userId?/\"\n            render={withSuspense(ProfileContainer)}\n          />\n          <Route path=\"/users\" render={() => <UsersContainer />} />\n          <Route path=\"/login\" render={() => <LoginPage />} />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({ initialized: state.app.initialized });\n\nlet AppContainer = compose(withRouter, connect(mapStateToProps, { initializeApp }))(App);\n\nconst MainApp = (props) => {\n  return (\n    <HashRouter>\n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    </HashRouter>\n  );\n};\n\nexport default MainApp;","import * as serviceWorker from \"./serviceWorker\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport MainApp from \"./App\";\n\nReactDOM.render(\n<MainApp />,\n  document.getElementById(\"root\")\n);\n\n// API\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from \"react\";\r\nimport styles from \"./FormsControls.module.css\";\r\nimport { Field } from \"redux-form\";\r\n\r\nconst FormControl = ({ input, meta : {touched, error}, children}) => {\r\n  const hasError = touched && error;\r\n\r\n  return (\r\n    <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n      <div>{children}</div>\r\n      {hasError && <span>{error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Textarea = (props) => {\r\n  const { input, meta, child, ...restProps } = props;\r\n  return (\r\n    <FormControl {...props}>\r\n      <textarea {...input} {...restProps} />\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport const Input = (props) => {\r\n  const { input, meta, child, ...restProps } = props;\r\n  return (\r\n    <FormControl {...props}>\r\n      <input {...input} {...restProps} />\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n  <div>\r\n    <Field\r\n      placeholder={placeholder}\r\n      name={name}\r\n      validate={validators}\r\n      component={component}\r\n      {...props}\r\n    />{text}\r\n  </div>\r\n);\r\n\r\nexport default Textarea","import React from 'react'\r\nimport preloader from \"../../../assets/images/preloader.svg\"\r\n\r\nconst Preloader = props => {\r\n  return (  <div>\r\n    <img src={preloader} alt=\"preloader\" />\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl___yvbM\",\"error\":\"FormsControls_error__39-qV\",\"formSummaryError\":\"FormsControls_formSummaryError__3Q7Fv\"};","export const required = (value) => {\r\n  if (value) return undefined;\r\n\r\n  return \"Field is required\";\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\r\n  return undefined;\r\n};\r\n\r\n// export minLengthCreator = (minLength) => value => {\r\n//   if ()\r\n// }","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1hD81\",\"loginBlock\":\"Header_loginBlock__3-z1n\"};","import { usersAPI, profileAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst ADD_POST = \"ADD_POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\nconst DELETE_POST = \"DELETE_POST\";\r\nconst SAVE_PHOTO_SUCCESS = \"SAVE_PHOTO_SUCCESS\";\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, message: \"Hi, how are you?\", likesCount: 12 },\r\n    { id: 2, message: \"It's my first post\", likesCount: 11 },\r\n    { id: 3, message: \"blabalbal\", likesCount: 11 },\r\n    { id: 4, message: \"dadada\", likesCount: 11 },\r\n  ],\r\n  profile: null,\r\n  status: \"\",\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      let newPost = {\r\n        id: 5,\r\n        message: action.newPostText,\r\n        likesCount: 0,\r\n      };\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n        newPostText: \"\",\r\n      };\r\n    case SET_USER_PROFILE: {\r\n      return {\r\n        ...state,\r\n        profile: action.profile,\r\n      };\r\n    }\r\n    case SET_STATUS: {\r\n      return {\r\n        ...state,\r\n        status: action.status,\r\n      };\r\n    }\r\n    case DELETE_POST: {\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter((p) => p.id !== action.postId),\r\n      };\r\n    }\r\n    case SAVE_PHOTO_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        profile: {...state.profile, photos: action.photos},\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText });\r\nconst setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile });\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n  let response = await usersAPI.getProfile(userId);\r\n  dispatch(setUserProfile(response.data));\r\n};\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status });\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n  let response = await profileAPI.getStatus(userId);\r\n  dispatch(setStatus(response.data));\r\n};\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  let response = await profileAPI.updateStatus(status);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setStatus(status));\r\n  }\r\n};\r\n\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId });\r\n\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos });\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n  let response = await profileAPI.savePhoto(file);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(savePhotoSuccess(response.data.data.photos));\r\n  }\r\n};\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n  const userId = getState().auth.userId\r\n  const response = await profileAPI.saveProfile(profile);\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getUserProfile(userId));\r\n  } else {\r\n    dispatch(stopSubmit(\"edit-profile\", {_error: response.data.messages[0]}))\r\n    return Promise.reject(response.data.messages[0])\r\n  }\r\n};\r\n\r\nexport default profileReducer;"],"sourceRoot":""}